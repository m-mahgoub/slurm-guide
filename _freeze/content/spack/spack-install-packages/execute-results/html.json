{
  "hash": "a67cd12ef46b088fef52bfded7286140",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Spack\"\nengine: knitr\nexecute:\n    freeze: true\n---\n\n\n\n\n# Installing Packages in Spack\n\nThis guide provides a step-by-step walkthrough for installing the `cowsay` package and module using Spack on the Compute2 SLURM cluster. `cowsay` is a fun utility that generates ASCII art of a cow saying a message. While installing `cowsay` is straightforward, there are some steps specific to the RIS Compute2 cluster that need to be followed to ensure compatibility.\n\n## Set Spack Environment\n\nBefore installing any packages for the first time, you need to configure Spack to work correctly with the Compute2 SLURM cluster.\n\nFirst, set some Spack environment variables. This can be easily done by sourcing `${SPACK_ROOT}/share/spack/setup-env.sh`:\n\n```bash\n# Get the Spack root directory\nSPACK_ROOT=$(spack location -r)\n\n# Source the Spack environment setup script\n. \"$SPACK_ROOT/share/spack/setup-env.sh\"\n```\n\n:::{.callout-note}\nYou need to run the above source command every time you want to install a new package with Spack. Alternatively, you can add it to your `.bashrc` or `.bash_profile` to make it persistent across sessions, but be cautious as it may interfere with other environments.\n:::\n\n## Configure Spack for Compute2\n\nThere are a few configurations that need to be set up before you can successfully install packages with Spack on Compute2. These are done once when you install your first package with Spack.\n\n### Configure GCC Compiler\n\nCompute2 currently uses GCC 13.1.0 as the default compiler. You need to ensure that Spack is configured to use this version of GCC.\n\n#### Check Current Compiler Configuration\n\nTo check the current compiler configuration in Spack, run:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack compilers\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n==> Available compilers\n-- gcc rhel9-x86_64 ---------------------------------------------\ngcc@11.3.1\n```\n\n\n:::\n:::\n\n\n\n\nIf `gcc@13.1.0` is not listed, you need to load the appropriate module and add it to Spack's list of available compilers. If it is listed, you can skip this step.\n\n#### Add GCC to Spack's Compiler List\n\nTo do this, first check if the GCC module is loaded:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nmodule list\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCurrently Loaded Modulefiles:\n 1) gcc/13.1.0               3) basetools/1.0.0   5) python3      \n 2) slurm/compute2/23.02.5   4) ris               6) spack/v0.23  \n```\n\n\n:::\n:::\n\n\n\n\nIf `gcc/13.1.0` is not listed, load it using:\n\n```bash\nmodule load gcc/13.1.0\n```\n\nThen, add GCC to Spack's list of available compilers:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack compiler find\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n==> Added 1 new compiler to /home/mmohamed/.spack/linux/compilers.yaml\n    gcc@13.1.0\n==> Compilers are defined in the following files:\n    /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml\n    /home/mmohamed/.spack/linux/compilers.yaml\n```\n\n\n:::\n:::\n\n\n\n\nVerify that the compiler has been successfully added by running:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack compilers\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n==> Available compilers\n-- gcc rhel9-x86_64 ---------------------------------------------\ngcc@13.1.0\ngcc@11.3.1\n```\n\n\n:::\n:::\n\n\n\n\n### Configure `krb5`\n\nBefore installing any packages, you need to configure `krb5`, which is a dependency for many packages in Spack. This step is crucial to avoid permission issues during package installations. On Compute2, `krb5` is provided as a system package. To ensure that Spack uses the system's `krb5` instead of trying to build its own version, you need to configure it properly.\n\nFirst, find the `krb5` package using Spack's external find command:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack external find krb5\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n==> The following specs have been detected on this system and added to /home/mmohamed/.spack/packages.yaml\nkrb5@1.20.1\n```\n\n\n:::\n:::\n\n\n\n\nThis command finds the `krb5` package and adds it to `~/.spack/packages.yaml`. Confirm that it is added by running:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncat ~/.spack/packages.yaml\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\npackages:\n  krb5:\n    externals:\n    - spec: krb5@1.20.1\n      prefix: /usr\n```\n\n\n:::\n:::\n\n\n\n\nYou should see an entry for `krb5` in the output. This ensures that Spack uses the system's `krb5` package instead of trying to build its own version.\n\n### Install `binutils` Version 2.43.1\n\n`binutils` is a collection of binary tools used for handling object files, libraries, and executables. It is essential for compiling and linking programs, especially when using `gcc`. Currently, the default version of `binutils` on RIS Compute2 is `2.35`. This version has compatibility issues and errors when used with `gcc@13.1.0`. To resolve these issues, you need to install a newer version of `binutils`, specifically `2.43.1`, to ensure compatibility with `gcc@13.1.0` and the RIS Compute2 architecture. This version has been tested and confirmed to work well with the current setup. Additionally, some specific options were determined through trial and error to find the right combination that works effectively with `gcc@13.1.0` and the Compute2 architecture.\n\nFirst, check if the spec for `binutils` with the required version and options is available:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack spec binutils@2.43.1 +gas +ld +gold +headers %gcc@13.1.0 ^zlib-ng cflags=\"-mno-avx512f\"\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n==> Fetching https://ghcr.io/v2/spack/bootstrap-buildcache-v1/blobs/sha256:82ec278bef26c42303a2c2c888612c0d37babef615bc9a0003530e0b8b4d3d2c\n==> Fetching https://ghcr.io/v2/spack/bootstrap-buildcache-v1/blobs/sha256:0c5831932608e7b4084fc6ce60e2b67b77dab76e5515303a049d4d30cd772321\n==> Installing \"clingo-bootstrap@=spack%gcc@=10.2.1~docs+ipo+optimized+python+static_libstdcpp build_system=cmake build_type=Release generator=make patches=bebb819,ec99431 arch=linux-centos7-x86_64\" from a buildcache\n -   binutils@2.43.1%gcc@13.1.0+gas+gold~gprofng+headers~interwork+ld~libiberty~lto~nls~pgo+plugins build_system=autotools compress_debug_sections=zlib libs=shared,static arch=linux-rhel9-sapphirerapids\n -       ^diffutils@3.10%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -           ^libiconv@1.17%gcc@13.1.0 build_system=autotools libs=shared,static arch=linux-rhel9-sapphirerapids\n -       ^gcc-runtime@13.1.0%gcc@13.1.0 build_system=generic arch=linux-rhel9-sapphirerapids\n[e]      ^glibc@2.34%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^gmake@4.4.1%gcc@13.1.0~guile build_system=generic arch=linux-rhel9-sapphirerapids\n -       ^pkgconf@2.2.0%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^zlib-ng@2.2.1%gcc@13.1.0 cflags=-mno-avx512f +compat+new_strategies+opt+pic+shared build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^zstd@1.5.6%gcc@13.1.0~programs build_system=makefile libs=shared,static arch=linux-rhel9-sapphirerapids\n```\n\n\n:::\n:::\n\n\n\n\nIf no errors are shown, you can proceed to install `binutils` with the specified options:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack install binutils@2.43.1 +gas +ld +gold +headers %gcc@13.1.0 ^zlib-ng cflags=\"-mno-avx512f\"\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[+] /usr (external glibc-2.34-gcrw4gafyklwlrq65fbsa7kxjc3uclxs)\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gcc-runtime-13.1.0-ejzbgmwkb2zvlczfrubsry2kxpaerlhh\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zlib-ng-2.2.1-dpe5qvn52jsktpvk4z2wjcx6alualupu\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zstd-1.5.6-3w5td2opetl5rthgsba3ererfozremng\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib\n```\n\n\n:::\n:::\n\n\n\n\n:::{.callout-important}\nSometimes, you might encounter an error like this during installation:\n\n```bash\n/tmp/cc2CRT67.s:31537: Error: no such instruction: `vmovw 14(%rsp),%xmm0'\n```\n\nThis error can be resolved by sourcing the Spack environment setup script again:\n\n```bash\n. \"$SPACK_ROOT/share/spack/setup-env.sh\"\n```\n\nAfter sourcing the script, try the installation command again.\n:::\n\nLoad the installed `binutils`:\n\n```bash\nspack load binutils@2.43.1\n```\n\nAdd `binutils` to the PATH and other environment variables to ensure proper functionality:\n\n```bash\nexport PATH=$(spack location -i binutils@2.43.1)/bin:$PATH\nexport LD_LIBRARY_PATH=$(spack location -i binutils@2.43.1)/lib:$LD_LIBRARY_PATH\nexport AS=$(spack location -i binutils@2.43.1)/bin/as\nexport LD=$(spack location -i binutils@2.43.1)/bin/ld\n```\n\n:::{.callout-note}\nYou need to run the above export commands every time you use Spack to install or build packages. Alternatively, if you use Spack frequently to install tools, it is advisable to add these export commands to your `.bashrc` or `.bash_profile` for convenience.\n:::\n\nVerify that `binutils` is correctly added to the PATH:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nwhich as\nwhich ld\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/__spack_path_placeholder__/__spack_path_placeholder__/__spa/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib/bin/as\n/storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/__spack_path_placeholder__/__spack_path_placeholder__/__spa/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib/bin/ld\n```\n\n\n:::\n:::\n\n\n\n\n## Install `cowsay`\n\nOnce Spack is initialized, install the `cowsay` package. First, check if `cowsay` is listed in Spack's package repository:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack list cowsay\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\ncowsay\n```\n\n\n:::\n:::\n\n\n\n\nFind available versions of `cowsay`:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack info cowsay\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nPackage:   cowsay\n\nDescription:\n    A program that generates ASCII pictures of a cow with a message.\n\nHomepage: https://github.com/tnalpgge/rank-amateur-cowsay\n\nPreferred version:  \n    3.04    https://github.com/tnalpgge/rank-amateur-cowsay/archive/cowsay-3.04.tar.gz\n\nSafe versions:  \n    3.04    https://github.com/tnalpgge/rank-amateur-cowsay/archive/cowsay-3.04.tar.gz\n\nDeprecated versions:  \n    None\n\nVariants:\n    build_system [generic]        generic\n        Build systems supported by the package\n\nBuild Dependencies:\n    None\n\nLink Dependencies:\n    None\n\nRun Dependencies:\n    perl\n\nLicenses: \n    Artistic-1.0-Perl OR GPL-2.0-or-later\n```\n\n\n:::\n:::\n\n\n\n\nInstall the `cowsay` package:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack install cowsay\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[+] /usr (external glibc-2.34-gcrw4gafyklwlrq65fbsa7kxjc3uclxs)\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gcc-runtime-13.1.0-ejzbgmwkb2zvlczfrubsry2kxpaerlhh\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/pkgconf-2.2.0-2azftz6o5juzvss3hzwkss2frzgskobd\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/diffutils-3.10-gurtuvtux2n42azagworzd2aehpouger\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zlib-ng-2.2.1-dpe5qvn52jsktpvk4z2wjcx6alualupu\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gmake-4.4.1-rysf64ht4ssf37tqza4pcvwx4ia3g35w\n==> Installing berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv [7/13]\n==> No binary for berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/0c/0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8.tar.gz\n==> Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/berkeley-db/drop-docs.patch\n==> Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/berkeley-db/tls.patch\n==> Ran patch() for berkeley-db\n==> berkeley-db: Executing phase: 'autoreconf'\n==> berkeley-db: Executing phase: 'configure'\n==> berkeley-db: Executing phase: 'build'\n==> berkeley-db: Executing phase: 'install'\n==> berkeley-db: Successfully installed berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv\n  Stage: 31.73s.  Autoreconf: 0.00s.  Configure: 18.55s.  Build: 7.77s.  Install: 0.95s.  Post-install: 0.35s.  Total: 59.61s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv\n==> Installing ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc [8/13]\n==> No binary for ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/13/136d91bc269a9a5785e5f9e980bc76ab57428f604ce3e5a5a90cebc767971cc6.tar.gz\n==> Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/ncurses/rxvt_unicode_6_4.patch\n==> ncurses: Executing phase: 'autoreconf'\n==> ncurses: Executing phase: 'configure'\n==> ncurses: Executing phase: 'build'\n==> ncurses: Executing phase: 'install'\n==> ncurses: Successfully installed ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc\n  Stage: 7.40s.  Autoreconf: 0.00s.  Configure: 39.89s.  Build: 17.66s.  Install: 30.57s.  Post-install: 11.48s.  Total: 1m 47.32s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc\n==> Installing bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a [9/13]\n==> No binary for bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/ab/ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269.tar.gz\n==> Ran patch() for bzip2\n==> bzip2: Executing phase: 'install'\n==> bzip2: Successfully installed bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a\n  Stage: 0.85s.  Install: 2.19s.  Post-install: 0.24s.  Total: 3.49s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a\n==> Installing readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz [10/13]\n==> No binary for readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/3f/3feb7171f16a84ee82ca18a36d7b9be109a52c04f492a053331d7d1095007c35.tar.gz\n==> Fetching https://mirror.spack.io/_source-cache/archive/bb/bbf97f1ec40a929edab5aa81998c1e2ef435436c597754916e6a5868f273aff7\n==> Applied patch https://ftpmirror.gnu.org/readline/readline-8.2-patches/readline82-001\n==> readline: Executing phase: 'autoreconf'\n==> readline: Executing phase: 'configure'\n==> readline: Executing phase: 'build'\n==> readline: Executing phase: 'install'\n==> readline: Successfully installed readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz\n  Stage: 1.63s.  Autoreconf: 0.00s.  Configure: 9.74s.  Build: 1.49s.  Install: 0.60s.  Post-install: 0.40s.  Total: 14.21s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz\n==> Installing gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk [11/13]\n==> No binary for gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/74/74b1081d21fff13ae4bd7c16e5d6e504a4c26f7cde1dca0d963a484174bbcacd.tar.gz\n==> No patches needed for gdbm\n==> gdbm: Executing phase: 'autoreconf'\n==> gdbm: Executing phase: 'configure'\n==> gdbm: Executing phase: 'build'\n==> gdbm: Executing phase: 'install'\n==> gdbm: Successfully installed gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk\n  Stage: 1.89s.  Autoreconf: 0.00s.  Configure: 8.35s.  Build: 3.07s.  Install: 1.44s.  Post-install: 0.35s.  Total: 15.56s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk\n==> Installing perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh [12/13]\n==> No binary for perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/c7/c740348f357396327a9795d3e8323bafd0fe8a5c7835fc1cbaba0cc8dfe7161f.tar.gz\n==> Fetching https://mirror.spack.io/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz\n==> Moving resource stage\n\tsource: /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/.cache/stage/mmohamed/resource-cpanm-tkrbryon3u4hxvmasn52gr5qin4hwlhh/spack-src/\n\tdestination: /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/.cache/stage/mmohamed/spack-stage-perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh/spack-src/cpanm/cpanm\n==> Ran patch() for perl\n==> perl: Executing phase: 'configure'\n==> perl: Executing phase: 'build'\n==> perl: Executing phase: 'install'\n==> perl: Successfully installed perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh\n  Stage: 32.08s.  Configure: 1m 21.62s.  Build: 33.52s.  Install: 49.52s.  Post-install: 18.65s.  Total: 3m 36.19s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh\n==> Installing cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52 [13/13]\n==> No binary for cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52 found: installing from source\n==> Fetching https://mirror.spack.io/_source-cache/archive/d8/d8b871332cfc1f0b6c16832ecca413ca0ac14d58626491a6733829e3d655878b.tar.gz\n==> No patches needed for cowsay\n==> cowsay: Executing phase: 'install'\n==> cowsay: Successfully installed cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52\n  Stage: 0.53s.  Install: 0.42s.  Post-install: 0.62s.  Total: 2.05s\n[+] /storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52\n```\n\n\n:::\n:::\n\n\n\n\nFinally, verify that `cowsay` is installed:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nspack find cowsay\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-- linux-rhel9-sapphirerapids / gcc@13.1.0 ----------------------\ncowsay@3.04\n```\n\n\n:::\n:::\n\n\n\n\n## Load the `cowsay` Module\n\nAfter successfully installing `cowsay`, you need to load its module first before using it. This step is crucial as it sets up the environment variables and paths required for `cowsay` to function correctly. When installing packages with Spack, there are two ways to load the module: using `spack load` or `module load`. To load it using `spack`, you can simply run `spack load cowsay`. This command will automatically set up the environment for `cowsay`, making it ready for use. However, it is recommended to use `module load` for better compatibility with the Compute2 environment. Luckily, with the current setup, spack automatically creates a Tcl module for `cowsay`, that is compatible with the Compute2 module system.\n\n### Add Spack's Module Path to the Module System\n\nTo ensure that the `cowsay` module is recognized by the Compute2 module system, you need to add Spack's module path to the module system. This step is essential for loading the `cowsay` module using `module load`. In the current setup, modules are stored in `/storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/modules/linux-rhel9-sapphirerapids/`. To append this path to the module system, you can use the following command:\n\n```bash\nexport MODULEPATH=/storage2/fs1/dspencer/Active/spencerlab/apps/modules/spack/modules/linux-rhel9-sapphirerapids/:$MODULEPATH \n```\n\n:::{.callout-note}\nYou can also add the above mentioned Spack modules' path to your `.bashrc` or `.bash_profile` to make it persistent across sessions. This way, you won't have to set it every time you log in.\n:::\n\n### Load the `cowsay` Module\n\nNow that the Spack module path is set, you can load the `cowsay` module using the `module load` command:\n\n```bash\nmodule load cowsay\n```\n\n## Verify the Installation\n\nTo verify that `cowsay` is installed and working correctly, you can run the following command:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncowsay \"Hello, World!\"\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n _______________ \n< Hello, World! >\n --------------- \n        \\   ^__^\n         \\  (oo)\\_______\n            (__)\\       )\\/\\\n                ||----w |\n                ||     ||\n```\n\n\n:::\n:::\n\n\n\n\nThis command should produce an ASCII art cow saying \"Hello, World!\" If you see the cow, congratulations! You have successfully installed and configured `cowsay` using Spack on Compute2.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}