[
  {
    "objectID": "docs/spack/spack-install-packages.html",
    "href": "docs/spack/spack-install-packages.html",
    "title": "Spack",
    "section": "",
    "text": "This guide provides a step-by-step walkthrough for installing the cowsay package and module using Spack on the Compute2 SLURM cluster. cowsay is a fun utility that generates ASCII art of a cow saying a message. While installing cowsay is straightforward, there are some steps specific to the RIS Compute2 cluster that need to be followed to ensure compatibility.\n\n\nBefore installing any packages for the first time, you need to configure Spack to work correctly with the Compute2 SLURM cluster.\nFirst, set some Spack environment variables. This can be easily done by sourcing ${SPACK_ROOT}/share/spack/setup-env.sh:\n# Get the Spack root directory\nSPACK_ROOT=$(spack location -r)\n\n# Source the Spack environment setup script\n. \"$SPACK_ROOT/share/spack/setup-env.sh\"\n\n\n\n\n\n\nNote\n\n\n\nYou need to run the above source command every time you want to install a new package with Spack. Alternatively, you can add it to your .bashrc or .bash_profile to make it persistent across sessions, but be cautious as it may interfere with other environments.\n\n\n\n\n\nThere are a few configurations that need to be set up before you can successfully install packages with Spack on Compute2. These are done once when you install your first package with Spack.\n\n\nCompute2 currently uses GCC 13.1.0 as the default compiler. You need to ensure that Spack is configured to use this version of GCC.\n\n\nTo check the current compiler configuration in Spack, run:\n\nspack compilers\n\n==&gt; Available compilers\n-- gcc rhel9-x86_64 ---------------------------------------------\ngcc@11.3.1\n\n\nIf gcc@13.1.0 is not listed, you need to load the appropriate module and add it to Spack’s list of available compilers. If it is listed, you can skip this step.\n\n\n\nTo do this, first check if the GCC module is loaded:\n\nmodule list\n\nCurrently Loaded Modulefiles:\n 1) gcc/13.1.0               3) basetools/1.0.0   5) python3      \n 2) slurm/compute2/23.02.5   4) ris               6) spack/v0.23  \n\n\nIf gcc/13.1.0 is not listed, load it using:\nmodule load gcc/13.1.0\nThen, add GCC to Spack’s list of available compilers:\n\nspack compiler find\n\n==&gt; Added 1 new compiler to /home/mmohamed/.spack/linux/compilers.yaml\n    gcc@13.1.0\n==&gt; Compilers are defined in the following files:\n    /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml\n    /home/mmohamed/.spack/linux/compilers.yaml\n\n\nVerify that the compiler has been successfully added by running:\n\nspack compilers\n\n==&gt; Available compilers\n-- gcc rhel9-x86_64 ---------------------------------------------\ngcc@13.1.0\ngcc@11.3.1\n\n\n\n\n\n\nBefore installing any packages, you need to configure krb5, which is a dependency for many packages in Spack. This step is crucial to avoid permission issues during package installations. On Compute2, krb5 is provided as a system package. To ensure that Spack uses the system’s krb5 instead of trying to build its own version, you need to configure it properly.\nFirst, find the krb5 package using Spack’s external find command:\n\nspack external find krb5\n\n==&gt; The following specs have been detected on this system and added to /home/mmohamed/.spack/packages.yaml\nkrb5@1.20.1\n\n\nThis command finds the krb5 package and adds it to ~/.spack/packages.yaml. Confirm that it is added by running:\n\ncat ~/.spack/packages.yaml\n\npackages:\n  krb5:\n    externals:\n    - spec: krb5@1.20.1\n      prefix: /usr\n\n\nYou should see an entry for krb5 in the output. This ensures that Spack uses the system’s krb5 package instead of trying to build its own version.\n\n\n\nbinutils is a collection of binary tools used for handling object files, libraries, and executables. It is essential for compiling and linking programs, especially when using gcc. Currently, the default version of binutils on RIS Compute2 is 2.35. This version has compatibility issues and errors when used with gcc@13.1.0. To resolve these issues, you need to install a newer version of binutils, specifically 2.43.1, to ensure compatibility with gcc@13.1.0 and the RIS Compute2 architecture. This version has been tested and confirmed to work well with the current setup. Additionally, some specific options were determined through trial and error to find the right combination that works effectively with gcc@13.1.0 and the Compute2 architecture.\nFirst, check if the spec for binutils with the required version and options is available:\n\nspack spec binutils@2.43.1 +gas +ld +gold +headers %gcc@13.1.0 ^zlib-ng cflags=\"-mno-avx512f\"\n\n==&gt; Fetching https://ghcr.io/v2/spack/bootstrap-buildcache-v1/blobs/sha256:82ec278bef26c42303a2c2c888612c0d37babef615bc9a0003530e0b8b4d3d2c\n==&gt; Fetching https://ghcr.io/v2/spack/bootstrap-buildcache-v1/blobs/sha256:0c5831932608e7b4084fc6ce60e2b67b77dab76e5515303a049d4d30cd772321\n==&gt; Installing \"clingo-bootstrap@=spack%gcc@=10.2.1~docs+ipo+optimized+python+static_libstdcpp build_system=cmake build_type=Release generator=make patches=bebb819,ec99431 arch=linux-centos7-x86_64\" from a buildcache\n -   binutils@2.43.1%gcc@13.1.0+gas+gold~gprofng+headers~interwork+ld~libiberty~lto~nls~pgo+plugins build_system=autotools compress_debug_sections=zlib libs=shared,static arch=linux-rhel9-sapphirerapids\n -       ^diffutils@3.10%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -           ^libiconv@1.17%gcc@13.1.0 build_system=autotools libs=shared,static arch=linux-rhel9-sapphirerapids\n -       ^gcc-runtime@13.1.0%gcc@13.1.0 build_system=generic arch=linux-rhel9-sapphirerapids\n[e]      ^glibc@2.34%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^gmake@4.4.1%gcc@13.1.0~guile build_system=generic arch=linux-rhel9-sapphirerapids\n -       ^pkgconf@2.2.0%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^zlib-ng@2.2.1%gcc@13.1.0 cflags=-mno-avx512f +compat+new_strategies+opt+pic+shared build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^zstd@1.5.6%gcc@13.1.0~programs build_system=makefile libs=shared,static arch=linux-rhel9-sapphirerapids\n\n\nIf no errors are shown, you can proceed to install binutils with the specified options:\n\nspack install binutils@2.43.1 +gas +ld +gold +headers %gcc@13.1.0 ^zlib-ng cflags=\"-mno-avx512f\"\n\n[+] /usr (external glibc-2.34-gcrw4gafyklwlrq65fbsa7kxjc3uclxs)\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gcc-runtime-13.1.0-ejzbgmwkb2zvlczfrubsry2kxpaerlhh\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zlib-ng-2.2.1-dpe5qvn52jsktpvk4z2wjcx6alualupu\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zstd-1.5.6-3w5td2opetl5rthgsba3ererfozremng\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib\n\n\n\n\n\n\n\n\nImportant\n\n\n\nSometimes, you might encounter an error like this during installation:\n/tmp/cc2CRT67.s:31537: Error: no such instruction: `vmovw 14(%rsp),%xmm0'\nThis error can be resolved by sourcing the Spack environment setup script again:\n. \"$SPACK_ROOT/share/spack/setup-env.sh\"\nAfter sourcing the script, try the installation command again.\n\n\nLoad the installed binutils:\nspack load binutils@2.43.1\nAdd binutils to the PATH and other environment variables to ensure proper functionality:\nexport PATH=$(spack location -i binutils@2.43.1)/bin:$PATH\nexport LD_LIBRARY_PATH=$(spack location -i binutils@2.43.1)/lib:$LD_LIBRARY_PATH\nexport AS=$(spack location -i binutils@2.43.1)/bin/as\nexport LD=$(spack location -i binutils@2.43.1)/bin/ld\n\n\n\n\n\n\nNote\n\n\n\nYou need to run the above export commands every time you use Spack to install or build packages. Alternatively, if you use Spack frequently to install tools, it is advisable to add these export commands to your .bashrc or .bash_profile for convenience.\n\n\nVerify that binutils is correctly added to the PATH:\n\nwhich as\nwhich ld\n\n/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/__spack_path_placeholder__/__spack_path_placeholder__/__spac/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib/bin/as\n/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/__spack_path_placeholder__/__spack_path_placeholder__/__spac/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib/bin/ld\n\n\n\n\n\n\nOnce Spack is initialized, install the cowsay package. First, check if cowsay is listed in Spack’s package repository:\n\nspack list cowsay\n\ncowsay\n\n\nFind available versions of cowsay:\n\nspack info cowsay\n\nPackage:   cowsay\n\nDescription:\n    A program that generates ASCII pictures of a cow with a message.\n\nHomepage: https://github.com/tnalpgge/rank-amateur-cowsay\n\nPreferred version:  \n    3.04    https://github.com/tnalpgge/rank-amateur-cowsay/archive/cowsay-3.04.tar.gz\n\nSafe versions:  \n    3.04    https://github.com/tnalpgge/rank-amateur-cowsay/archive/cowsay-3.04.tar.gz\n\nDeprecated versions:  \n    None\n\nVariants:\n    build_system [generic]        generic\n        Build systems supported by the package\n\nBuild Dependencies:\n    None\n\nLink Dependencies:\n    None\n\nRun Dependencies:\n    perl\n\nLicenses: \n    Artistic-1.0-Perl OR GPL-2.0-or-later\n\n\nInstall the cowsay package:\n\nspack install cowsay\n\n[+] /usr (external glibc-2.34-gcrw4gafyklwlrq65fbsa7kxjc3uclxs)\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gcc-runtime-13.1.0-ejzbgmwkb2zvlczfrubsry2kxpaerlhh\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/diffutils-3.10-gurtuvtux2n42azagworzd2aehpouger\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/pkgconf-2.2.0-2azftz6o5juzvss3hzwkss2frzgskobd\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zlib-ng-2.2.1-dpe5qvn52jsktpvk4z2wjcx6alualupu\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gmake-4.4.1-rysf64ht4ssf37tqza4pcvwx4ia3g35w\n==&gt; Installing bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a [7/13]\n==&gt; No binary for bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ab/ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269.tar.gz\n==&gt; Ran patch() for bzip2\n==&gt; bzip2: Executing phase: 'install'\n==&gt; bzip2: Successfully installed bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a\n  Stage: 0.62s.  Install: 2.04s.  Post-install: 0.17s.  Total: 2.99s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a\n==&gt; Installing ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc [8/13]\n==&gt; No binary for ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/13/136d91bc269a9a5785e5f9e980bc76ab57428f604ce3e5a5a90cebc767971cc6.tar.gz\n==&gt; Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/ncurses/rxvt_unicode_6_4.patch\n==&gt; ncurses: Executing phase: 'autoreconf'\n==&gt; ncurses: Executing phase: 'configure'\n==&gt; ncurses: Executing phase: 'build'\n==&gt; ncurses: Executing phase: 'install'\n==&gt; ncurses: Successfully installed ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc\n  Stage: 4.76s.  Autoreconf: 0.00s.  Configure: 37.63s.  Build: 18.23s.  Install: 31.61s.  Post-install: 12.32s.  Total: 1m 44.88s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc\n==&gt; Installing berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv [9/13]\n==&gt; No binary for berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0c/0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8.tar.gz\n==&gt; Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/berkeley-db/drop-docs.patch\n==&gt; Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/berkeley-db/tls.patch\n==&gt; Ran patch() for berkeley-db\n==&gt; berkeley-db: Executing phase: 'autoreconf'\n==&gt; berkeley-db: Executing phase: 'configure'\n==&gt; berkeley-db: Executing phase: 'build'\n==&gt; berkeley-db: Executing phase: 'install'\n==&gt; berkeley-db: Successfully installed berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv\n  Stage: 30.75s.  Autoreconf: 0.00s.  Configure: 17.37s.  Build: 7.09s.  Install: 0.77s.  Post-install: 0.31s.  Total: 56.49s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv\n==&gt; Installing readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz [10/13]\n==&gt; No binary for readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3f/3feb7171f16a84ee82ca18a36d7b9be109a52c04f492a053331d7d1095007c35.tar.gz\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/bb/bbf97f1ec40a929edab5aa81998c1e2ef435436c597754916e6a5868f273aff7\n==&gt; Applied patch https://ftpmirror.gnu.org/readline/readline-8.2-patches/readline82-001\n==&gt; readline: Executing phase: 'autoreconf'\n==&gt; readline: Executing phase: 'configure'\n==&gt; readline: Executing phase: 'build'\n==&gt; readline: Executing phase: 'install'\n==&gt; readline: Successfully installed readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz\n  Stage: 1.49s.  Autoreconf: 0.00s.  Configure: 8.70s.  Build: 1.34s.  Install: 0.40s.  Post-install: 0.30s.  Total: 12.49s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz\n==&gt; Installing gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk [11/13]\n==&gt; No binary for gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/74/74b1081d21fff13ae4bd7c16e5d6e504a4c26f7cde1dca0d963a484174bbcacd.tar.gz\n==&gt; No patches needed for gdbm\n==&gt; gdbm: Executing phase: 'autoreconf'\n==&gt; gdbm: Executing phase: 'configure'\n==&gt; gdbm: Executing phase: 'build'\n==&gt; gdbm: Executing phase: 'install'\n==&gt; gdbm: Successfully installed gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk\n  Stage: 1.28s.  Autoreconf: 0.00s.  Configure: 7.11s.  Build: 2.48s.  Install: 1.16s.  Post-install: 0.39s.  Total: 12.74s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk\n==&gt; Installing perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh [12/13]\n==&gt; No binary for perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/c7/c740348f357396327a9795d3e8323bafd0fe8a5c7835fc1cbaba0cc8dfe7161f.tar.gz\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz\n==&gt; Moving resource stage\n    source: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/stage/mmohamed/resource-cpanm-tkrbryon3u4hxvmasn52gr5qin4hwlhh/spack-src/\n    destination: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/stage/mmohamed/spack-stage-perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh/spack-src/cpanm/cpanm\n==&gt; Ran patch() for perl\n==&gt; perl: Executing phase: 'configure'\n==&gt; perl: Executing phase: 'build'\n==&gt; perl: Executing phase: 'install'\n==&gt; perl: Successfully installed perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh\n  Stage: 27.35s.  Configure: 1m 15.54s.  Build: 28.15s.  Install: 38.90s.  Post-install: 16.30s.  Total: 3m 6.82s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh\n==&gt; Installing cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52 [13/13]\n==&gt; No binary for cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52 found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d8/d8b871332cfc1f0b6c16832ecca413ca0ac14d58626491a6733829e3d655878b.tar.gz\n==&gt; No patches needed for cowsay\n==&gt; cowsay: Executing phase: 'install'\n==&gt; cowsay: Successfully installed cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52\n  Stage: 0.73s.  Install: 0.75s.  Post-install: 0.74s.  Total: 2.85s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52\n\n\nFinally, verify that cowsay is installed:\n\nspack find cowsay\n\n-- linux-rhel9-sapphirerapids / gcc@13.1.0 ----------------------\ncowsay@3.04\n\n\n\n\n\nAfter successfully installing cowsay, you need to load its module first before using it. This step is crucial as it sets up the environment variables and paths required for cowsay to function correctly. When installing packages with Spack, there are two ways to load the module: using spack load or module load. To load it using spack, you can simply run spack load cowsay. This command will automatically set up the environment for cowsay, making it ready for use. However, it is recommended to use module load for better compatibility with the Compute2 environment. Luckily, with the current setup, spack automatically creates a Tcl module for cowsay, that is compatible with the Compute2 module system.\n\n\nTo ensure that the cowsay module is recognized by the Compute2 module system, you need to add Spack’s module path to the module system. This step is essential for loading the cowsay module using module load. In the current setup, modules are stored in /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/modules/linux-rhel9-sapphirerapids/. To append this path to the module system, you can use the following command:\nexport MODULEPATH=/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/modules/linux-rhel9-sapphirerapids/:$MODULEPATH \n\n\n\n\n\n\nNote\n\n\n\nYou can also add the above mentioned Spack modules’ path to your .bashrc or .bash_profile to make it persistent across sessions. This way, you won’t have to set it every time you log in.\n\n\n\n\n\nNow that the Spack module path is set, you can load the cowsay module using the module load command:\nmodule load cowsay\n\n\n\n\nTo verify that cowsay is installed and working correctly, you can run the following command:\n\ncowsay \"Hello, World!\"\n\n _______________ \n&lt; Hello, World! &gt;\n --------------- \n        \\   ^__^\n         \\  (oo)\\_______\n            (__)\\       )\\/\\\n                ||----w |\n                ||     ||\n\n\nThis command should produce an ASCII art cow saying “Hello, World!” If you see the cow, congratulations! You have successfully installed and configured cowsay using Spack on Compute2.",
    "crumbs": [
      "Guide",
      "Spack",
      "Install Packages"
    ]
  },
  {
    "objectID": "docs/spack/spack-install-packages.html#set-spack-environment",
    "href": "docs/spack/spack-install-packages.html#set-spack-environment",
    "title": "Spack",
    "section": "",
    "text": "Before installing any packages for the first time, you need to configure Spack to work correctly with the Compute2 SLURM cluster.\nFirst, set some Spack environment variables. This can be easily done by sourcing ${SPACK_ROOT}/share/spack/setup-env.sh:\n# Get the Spack root directory\nSPACK_ROOT=$(spack location -r)\n\n# Source the Spack environment setup script\n. \"$SPACK_ROOT/share/spack/setup-env.sh\"\n\n\n\n\n\n\nNote\n\n\n\nYou need to run the above source command every time you want to install a new package with Spack. Alternatively, you can add it to your .bashrc or .bash_profile to make it persistent across sessions, but be cautious as it may interfere with other environments.",
    "crumbs": [
      "Guide",
      "Spack",
      "Install Packages"
    ]
  },
  {
    "objectID": "docs/spack/spack-install-packages.html#configure-spack-for-compute2",
    "href": "docs/spack/spack-install-packages.html#configure-spack-for-compute2",
    "title": "Spack",
    "section": "",
    "text": "There are a few configurations that need to be set up before you can successfully install packages with Spack on Compute2. These are done once when you install your first package with Spack.\n\n\nCompute2 currently uses GCC 13.1.0 as the default compiler. You need to ensure that Spack is configured to use this version of GCC.\n\n\nTo check the current compiler configuration in Spack, run:\n\nspack compilers\n\n==&gt; Available compilers\n-- gcc rhel9-x86_64 ---------------------------------------------\ngcc@11.3.1\n\n\nIf gcc@13.1.0 is not listed, you need to load the appropriate module and add it to Spack’s list of available compilers. If it is listed, you can skip this step.\n\n\n\nTo do this, first check if the GCC module is loaded:\n\nmodule list\n\nCurrently Loaded Modulefiles:\n 1) gcc/13.1.0               3) basetools/1.0.0   5) python3      \n 2) slurm/compute2/23.02.5   4) ris               6) spack/v0.23  \n\n\nIf gcc/13.1.0 is not listed, load it using:\nmodule load gcc/13.1.0\nThen, add GCC to Spack’s list of available compilers:\n\nspack compiler find\n\n==&gt; Added 1 new compiler to /home/mmohamed/.spack/linux/compilers.yaml\n    gcc@13.1.0\n==&gt; Compilers are defined in the following files:\n    /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml\n    /home/mmohamed/.spack/linux/compilers.yaml\n\n\nVerify that the compiler has been successfully added by running:\n\nspack compilers\n\n==&gt; Available compilers\n-- gcc rhel9-x86_64 ---------------------------------------------\ngcc@13.1.0\ngcc@11.3.1\n\n\n\n\n\n\nBefore installing any packages, you need to configure krb5, which is a dependency for many packages in Spack. This step is crucial to avoid permission issues during package installations. On Compute2, krb5 is provided as a system package. To ensure that Spack uses the system’s krb5 instead of trying to build its own version, you need to configure it properly.\nFirst, find the krb5 package using Spack’s external find command:\n\nspack external find krb5\n\n==&gt; The following specs have been detected on this system and added to /home/mmohamed/.spack/packages.yaml\nkrb5@1.20.1\n\n\nThis command finds the krb5 package and adds it to ~/.spack/packages.yaml. Confirm that it is added by running:\n\ncat ~/.spack/packages.yaml\n\npackages:\n  krb5:\n    externals:\n    - spec: krb5@1.20.1\n      prefix: /usr\n\n\nYou should see an entry for krb5 in the output. This ensures that Spack uses the system’s krb5 package instead of trying to build its own version.\n\n\n\nbinutils is a collection of binary tools used for handling object files, libraries, and executables. It is essential for compiling and linking programs, especially when using gcc. Currently, the default version of binutils on RIS Compute2 is 2.35. This version has compatibility issues and errors when used with gcc@13.1.0. To resolve these issues, you need to install a newer version of binutils, specifically 2.43.1, to ensure compatibility with gcc@13.1.0 and the RIS Compute2 architecture. This version has been tested and confirmed to work well with the current setup. Additionally, some specific options were determined through trial and error to find the right combination that works effectively with gcc@13.1.0 and the Compute2 architecture.\nFirst, check if the spec for binutils with the required version and options is available:\n\nspack spec binutils@2.43.1 +gas +ld +gold +headers %gcc@13.1.0 ^zlib-ng cflags=\"-mno-avx512f\"\n\n==&gt; Fetching https://ghcr.io/v2/spack/bootstrap-buildcache-v1/blobs/sha256:82ec278bef26c42303a2c2c888612c0d37babef615bc9a0003530e0b8b4d3d2c\n==&gt; Fetching https://ghcr.io/v2/spack/bootstrap-buildcache-v1/blobs/sha256:0c5831932608e7b4084fc6ce60e2b67b77dab76e5515303a049d4d30cd772321\n==&gt; Installing \"clingo-bootstrap@=spack%gcc@=10.2.1~docs+ipo+optimized+python+static_libstdcpp build_system=cmake build_type=Release generator=make patches=bebb819,ec99431 arch=linux-centos7-x86_64\" from a buildcache\n -   binutils@2.43.1%gcc@13.1.0+gas+gold~gprofng+headers~interwork+ld~libiberty~lto~nls~pgo+plugins build_system=autotools compress_debug_sections=zlib libs=shared,static arch=linux-rhel9-sapphirerapids\n -       ^diffutils@3.10%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -           ^libiconv@1.17%gcc@13.1.0 build_system=autotools libs=shared,static arch=linux-rhel9-sapphirerapids\n -       ^gcc-runtime@13.1.0%gcc@13.1.0 build_system=generic arch=linux-rhel9-sapphirerapids\n[e]      ^glibc@2.34%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^gmake@4.4.1%gcc@13.1.0~guile build_system=generic arch=linux-rhel9-sapphirerapids\n -       ^pkgconf@2.2.0%gcc@13.1.0 build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^zlib-ng@2.2.1%gcc@13.1.0 cflags=-mno-avx512f +compat+new_strategies+opt+pic+shared build_system=autotools arch=linux-rhel9-sapphirerapids\n -       ^zstd@1.5.6%gcc@13.1.0~programs build_system=makefile libs=shared,static arch=linux-rhel9-sapphirerapids\n\n\nIf no errors are shown, you can proceed to install binutils with the specified options:\n\nspack install binutils@2.43.1 +gas +ld +gold +headers %gcc@13.1.0 ^zlib-ng cflags=\"-mno-avx512f\"\n\n[+] /usr (external glibc-2.34-gcrw4gafyklwlrq65fbsa7kxjc3uclxs)\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gcc-runtime-13.1.0-ejzbgmwkb2zvlczfrubsry2kxpaerlhh\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zlib-ng-2.2.1-dpe5qvn52jsktpvk4z2wjcx6alualupu\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zstd-1.5.6-3w5td2opetl5rthgsba3ererfozremng\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib\n\n\n\n\n\n\n\n\nImportant\n\n\n\nSometimes, you might encounter an error like this during installation:\n/tmp/cc2CRT67.s:31537: Error: no such instruction: `vmovw 14(%rsp),%xmm0'\nThis error can be resolved by sourcing the Spack environment setup script again:\n. \"$SPACK_ROOT/share/spack/setup-env.sh\"\nAfter sourcing the script, try the installation command again.\n\n\nLoad the installed binutils:\nspack load binutils@2.43.1\nAdd binutils to the PATH and other environment variables to ensure proper functionality:\nexport PATH=$(spack location -i binutils@2.43.1)/bin:$PATH\nexport LD_LIBRARY_PATH=$(spack location -i binutils@2.43.1)/lib:$LD_LIBRARY_PATH\nexport AS=$(spack location -i binutils@2.43.1)/bin/as\nexport LD=$(spack location -i binutils@2.43.1)/bin/ld\n\n\n\n\n\n\nNote\n\n\n\nYou need to run the above export commands every time you use Spack to install or build packages. Alternatively, if you use Spack frequently to install tools, it is advisable to add these export commands to your .bashrc or .bash_profile for convenience.\n\n\nVerify that binutils is correctly added to the PATH:\n\nwhich as\nwhich ld\n\n/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/__spack_path_placeholder__/__spack_path_placeholder__/__spac/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib/bin/as\n/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/__spack_path_placeholder__/__spack_path_placeholder__/__spac/linux-rhel9-sapphirerapids/gcc-13.1.0/binutils-2.43.1-rvtydb7c44s5ueey7k635l27c3soluib/bin/ld",
    "crumbs": [
      "Guide",
      "Spack",
      "Install Packages"
    ]
  },
  {
    "objectID": "docs/spack/spack-install-packages.html#install-cowsay",
    "href": "docs/spack/spack-install-packages.html#install-cowsay",
    "title": "Spack",
    "section": "",
    "text": "Once Spack is initialized, install the cowsay package. First, check if cowsay is listed in Spack’s package repository:\n\nspack list cowsay\n\ncowsay\n\n\nFind available versions of cowsay:\n\nspack info cowsay\n\nPackage:   cowsay\n\nDescription:\n    A program that generates ASCII pictures of a cow with a message.\n\nHomepage: https://github.com/tnalpgge/rank-amateur-cowsay\n\nPreferred version:  \n    3.04    https://github.com/tnalpgge/rank-amateur-cowsay/archive/cowsay-3.04.tar.gz\n\nSafe versions:  \n    3.04    https://github.com/tnalpgge/rank-amateur-cowsay/archive/cowsay-3.04.tar.gz\n\nDeprecated versions:  \n    None\n\nVariants:\n    build_system [generic]        generic\n        Build systems supported by the package\n\nBuild Dependencies:\n    None\n\nLink Dependencies:\n    None\n\nRun Dependencies:\n    perl\n\nLicenses: \n    Artistic-1.0-Perl OR GPL-2.0-or-later\n\n\nInstall the cowsay package:\n\nspack install cowsay\n\n[+] /usr (external glibc-2.34-gcrw4gafyklwlrq65fbsa7kxjc3uclxs)\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gcc-runtime-13.1.0-ejzbgmwkb2zvlczfrubsry2kxpaerlhh\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/diffutils-3.10-gurtuvtux2n42azagworzd2aehpouger\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/pkgconf-2.2.0-2azftz6o5juzvss3hzwkss2frzgskobd\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/zlib-ng-2.2.1-dpe5qvn52jsktpvk4z2wjcx6alualupu\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gmake-4.4.1-rysf64ht4ssf37tqza4pcvwx4ia3g35w\n==&gt; Installing bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a [7/13]\n==&gt; No binary for bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ab/ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269.tar.gz\n==&gt; Ran patch() for bzip2\n==&gt; bzip2: Executing phase: 'install'\n==&gt; bzip2: Successfully installed bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a\n  Stage: 0.62s.  Install: 2.04s.  Post-install: 0.17s.  Total: 2.99s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/bzip2-1.0.8-jjbso5zq7au5ql3eok7mgwqgbw4zcs7a\n==&gt; Installing ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc [8/13]\n==&gt; No binary for ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/13/136d91bc269a9a5785e5f9e980bc76ab57428f604ce3e5a5a90cebc767971cc6.tar.gz\n==&gt; Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/ncurses/rxvt_unicode_6_4.patch\n==&gt; ncurses: Executing phase: 'autoreconf'\n==&gt; ncurses: Executing phase: 'configure'\n==&gt; ncurses: Executing phase: 'build'\n==&gt; ncurses: Executing phase: 'install'\n==&gt; ncurses: Successfully installed ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc\n  Stage: 4.76s.  Autoreconf: 0.00s.  Configure: 37.63s.  Build: 18.23s.  Install: 31.61s.  Post-install: 12.32s.  Total: 1m 44.88s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/ncurses-6.5-zuudv673gyyqjmrynmoff23aouwpdxlc\n==&gt; Installing berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv [9/13]\n==&gt; No binary for berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0c/0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8.tar.gz\n==&gt; Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/berkeley-db/drop-docs.patch\n==&gt; Applied patch /scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/var/spack/repos/builtin/packages/berkeley-db/tls.patch\n==&gt; Ran patch() for berkeley-db\n==&gt; berkeley-db: Executing phase: 'autoreconf'\n==&gt; berkeley-db: Executing phase: 'configure'\n==&gt; berkeley-db: Executing phase: 'build'\n==&gt; berkeley-db: Executing phase: 'install'\n==&gt; berkeley-db: Successfully installed berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv\n  Stage: 30.75s.  Autoreconf: 0.00s.  Configure: 17.37s.  Build: 7.09s.  Install: 0.77s.  Post-install: 0.31s.  Total: 56.49s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/berkeley-db-18.1.40-hhgfzochuajbpcn3k6w7wuy7lnhkglpv\n==&gt; Installing readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz [10/13]\n==&gt; No binary for readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3f/3feb7171f16a84ee82ca18a36d7b9be109a52c04f492a053331d7d1095007c35.tar.gz\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/bb/bbf97f1ec40a929edab5aa81998c1e2ef435436c597754916e6a5868f273aff7\n==&gt; Applied patch https://ftpmirror.gnu.org/readline/readline-8.2-patches/readline82-001\n==&gt; readline: Executing phase: 'autoreconf'\n==&gt; readline: Executing phase: 'configure'\n==&gt; readline: Executing phase: 'build'\n==&gt; readline: Executing phase: 'install'\n==&gt; readline: Successfully installed readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz\n  Stage: 1.49s.  Autoreconf: 0.00s.  Configure: 8.70s.  Build: 1.34s.  Install: 0.40s.  Post-install: 0.30s.  Total: 12.49s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/readline-8.2-ruakm6n2i66pp7f722xpl7niog2nlajz\n==&gt; Installing gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk [11/13]\n==&gt; No binary for gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/74/74b1081d21fff13ae4bd7c16e5d6e504a4c26f7cde1dca0d963a484174bbcacd.tar.gz\n==&gt; No patches needed for gdbm\n==&gt; gdbm: Executing phase: 'autoreconf'\n==&gt; gdbm: Executing phase: 'configure'\n==&gt; gdbm: Executing phase: 'build'\n==&gt; gdbm: Executing phase: 'install'\n==&gt; gdbm: Successfully installed gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk\n  Stage: 1.28s.  Autoreconf: 0.00s.  Configure: 7.11s.  Build: 2.48s.  Install: 1.16s.  Post-install: 0.39s.  Total: 12.74s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/gdbm-1.23-mdkmmwarhumwtq6ungbo2imm7l5hzlgk\n==&gt; Installing perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh [12/13]\n==&gt; No binary for perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/c7/c740348f357396327a9795d3e8323bafd0fe8a5c7835fc1cbaba0cc8dfe7161f.tar.gz\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz\n==&gt; Moving resource stage\n    source: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/stage/mmohamed/resource-cpanm-tkrbryon3u4hxvmasn52gr5qin4hwlhh/spack-src/\n    destination: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/stage/mmohamed/spack-stage-perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh/spack-src/cpanm/cpanm\n==&gt; Ran patch() for perl\n==&gt; perl: Executing phase: 'configure'\n==&gt; perl: Executing phase: 'build'\n==&gt; perl: Executing phase: 'install'\n==&gt; perl: Successfully installed perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh\n  Stage: 27.35s.  Configure: 1m 15.54s.  Build: 28.15s.  Install: 38.90s.  Post-install: 16.30s.  Total: 3m 6.82s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/perl-5.40.0-tkrbryon3u4hxvmasn52gr5qin4hwlhh\n==&gt; Installing cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52 [13/13]\n==&gt; No binary for cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52 found: installing from source\n==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d8/d8b871332cfc1f0b6c16832ecca413ca0ac14d58626491a6733829e3d655878b.tar.gz\n==&gt; No patches needed for cowsay\n==&gt; cowsay: Executing phase: 'install'\n==&gt; cowsay: Successfully installed cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52\n  Stage: 0.73s.  Install: 0.75s.  Post-install: 0.74s.  Total: 2.85s\n[+] /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software/[padded-to-128-chars]/linux-rhel9-sapphirerapids/gcc-13.1.0/cowsay-3.04-3po3c76ns6ihvqqoximyweiwdcg4du52\n\n\nFinally, verify that cowsay is installed:\n\nspack find cowsay\n\n-- linux-rhel9-sapphirerapids / gcc@13.1.0 ----------------------\ncowsay@3.04",
    "crumbs": [
      "Guide",
      "Spack",
      "Install Packages"
    ]
  },
  {
    "objectID": "docs/spack/spack-install-packages.html#load-the-cowsay-module",
    "href": "docs/spack/spack-install-packages.html#load-the-cowsay-module",
    "title": "Spack",
    "section": "",
    "text": "After successfully installing cowsay, you need to load its module first before using it. This step is crucial as it sets up the environment variables and paths required for cowsay to function correctly. When installing packages with Spack, there are two ways to load the module: using spack load or module load. To load it using spack, you can simply run spack load cowsay. This command will automatically set up the environment for cowsay, making it ready for use. However, it is recommended to use module load for better compatibility with the Compute2 environment. Luckily, with the current setup, spack automatically creates a Tcl module for cowsay, that is compatible with the Compute2 module system.\n\n\nTo ensure that the cowsay module is recognized by the Compute2 module system, you need to add Spack’s module path to the module system. This step is essential for loading the cowsay module using module load. In the current setup, modules are stored in /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/modules/linux-rhel9-sapphirerapids/. To append this path to the module system, you can use the following command:\nexport MODULEPATH=/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/modules/linux-rhel9-sapphirerapids/:$MODULEPATH \n\n\n\n\n\n\nNote\n\n\n\nYou can also add the above mentioned Spack modules’ path to your .bashrc or .bash_profile to make it persistent across sessions. This way, you won’t have to set it every time you log in.\n\n\n\n\n\nNow that the Spack module path is set, you can load the cowsay module using the module load command:\nmodule load cowsay",
    "crumbs": [
      "Guide",
      "Spack",
      "Install Packages"
    ]
  },
  {
    "objectID": "docs/spack/spack-install-packages.html#verify-the-installation",
    "href": "docs/spack/spack-install-packages.html#verify-the-installation",
    "title": "Spack",
    "section": "",
    "text": "To verify that cowsay is installed and working correctly, you can run the following command:\n\ncowsay \"Hello, World!\"\n\n _______________ \n&lt; Hello, World! &gt;\n --------------- \n        \\   ^__^\n         \\  (oo)\\_______\n            (__)\\       )\\/\\\n                ||----w |\n                ||     ||\n\n\nThis command should produce an ASCII art cow saying “Hello, World!” If you see the cow, congratulations! You have successfully installed and configured cowsay using Spack on Compute2.",
    "crumbs": [
      "Guide",
      "Spack",
      "Install Packages"
    ]
  },
  {
    "objectID": "docs/spack/spack-setup.html",
    "href": "docs/spack/spack-setup.html",
    "title": "Spack Setup",
    "section": "",
    "text": "This guide explains how to set up a site installation of Spack as a non-root user. It assumes that you already have a working installation of Spack on your system, either system-wide or in a user directory. If Spack is not installed, please refer to the official Spack Installation Guide.\nWhile this guide is tailored for WashU RIS HPC (Compute2) users, it can be adapted for other systems.",
    "crumbs": [
      "Guide",
      "Spack",
      "Setup"
    ]
  },
  {
    "objectID": "docs/spack/spack-setup.html#overview",
    "href": "docs/spack/spack-setup.html#overview",
    "title": "Spack Setup",
    "section": "",
    "text": "This guide explains how to set up a site installation of Spack as a non-root user. It assumes that you already have a working installation of Spack on your system, either system-wide or in a user directory. If Spack is not installed, please refer to the official Spack Installation Guide.\nWhile this guide is tailored for WashU RIS HPC (Compute2) users, it can be adapted for other systems.",
    "crumbs": [
      "Guide",
      "Spack",
      "Setup"
    ]
  },
  {
    "objectID": "docs/spack/spack-setup.html#verify-spack-installation",
    "href": "docs/spack/spack-setup.html#verify-spack-installation",
    "title": "Spack Setup",
    "section": "Verify Spack Installation",
    "text": "Verify Spack Installation\nBefore proceeding, ensure that Spack is installed on your system and that the spack command is accessible.\nSpack is installed as a module on RIS Compute2. Therefore, you need to load the Spack module to access the spack command:\n# Start an interactive SLURM session\nsrun --time=\"4:00:00\" --nodes=1 --ntasks=4 --mem=24G --pty /bin/bash\n\n# Load the Spack module\nmodule load ris spack\n\n# Verify the Spack installation\nspack --version\n\n\n\n\n\n\nNote\n\n\n\nYou need to load the Spack module using module load ris spack in the RIS current module system. Only after loading ris can you expose the spack module.",
    "crumbs": [
      "Guide",
      "Spack",
      "Setup"
    ]
  },
  {
    "objectID": "docs/spack/spack-setup.html#environment-setup",
    "href": "docs/spack/spack-setup.html#environment-setup",
    "title": "Spack Setup",
    "section": "Environment Setup",
    "text": "Environment Setup\nBy default, Spack installs packages in either the system-wide installation directory or the user’s home directory (~/.spack). However, it is often preferable to have a site installation of Spack that:\n\nCan be shared by multiple users.\nAllows non-root users to have write access.\nIs independent of changes in individual users’ home directories.\n\nSpack supports setting up an “isolated” site installation that meets these requirements. This is achieved by customizing Spack’s configuration scopes and setting specific environment variables.",
    "crumbs": [
      "Guide",
      "Spack",
      "Setup"
    ]
  },
  {
    "objectID": "docs/spack/spack-setup.html#step-by-step-spack-setup",
    "href": "docs/spack/spack-setup.html#step-by-step-spack-setup",
    "title": "Spack Setup",
    "section": "Step-by-Step Spack Setup",
    "text": "Step-by-Step Spack Setup\nFollow these steps to set up Spack for a user-specific installation.\n\n1. Set Environment Variables\nDefine the paths for Spack installation and cache. These paths determine where Spack will store its software and temporary files.\nexport SPACK_USER_INSTALL_PATH=/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack\nexport SPACK_USER_CACHE_PATH=/storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache\n\nSPACK_USER_INSTALL_PATH: The directory where Spack will install software and environments.\nSPACK_USER_CACHE_PATH: The directory for temporary files, such as build stages and caches.\n\n\n\n2. Create the Spack User Directory\nEnsure the ~/.spack directory exists. This directory will store user-specific Spack configuration files.\nmkdir -p ~/.spack\n\n\n3. Create the Spack Configuration File\nWrite the config.yaml file to configure Spack’s installation paths and cache locations.\ncat &lt;&lt;EOF &gt; ~/.spack/config.yaml\nconfig:\n  install_tree:\n    root: ${SPACK_USER_INSTALL_PATH}/software\n  environments_root: ${SPACK_USER_INSTALL_PATH}/environments\n  build_stage:\n    - ${SPACK_USER_CACHE_PATH}/stage\n  test_stage: ${SPACK_USER_CACHE_PATH}/test\n  source_cache: ${SPACK_USER_CACHE_PATH}/source_cache\n  misc_cache: ${SPACK_USER_CACHE_PATH}/misc_cache\nEOF\n\ninstall_tree: Specifies where Spack will install software.\nenvironments_root: Defines the location for Spack environments.\nbuild_stage, test_stage, source_cache, misc_cache: Configure paths for temporary files and caches.\n\n\n\n4. Create the Spack Modules Configuration File\nWrite the modules.yaml file to configure how Spack generates module files.\ncat &lt;&lt;EOF &gt; ~/.spack/modules.yaml\nmodules:\n  default:\n    roots:\n      tcl: ${SPACK_USER_INSTALL_PATH}/modules\n    enable:\n      - tcl\n    tcl:\n      projections:\n        all: '{name}/{version}'\n      hide_implicits: true\n      all:\n        autoload: direct\n      include:\n        - cowsay\n      exclude: \n        - '%gcc@13.1.0'\n      hash_length: 0\nEOF\n\n\n\n\n\n\nNote\n\n\n\nThe include and exclude options allow you to control which packages are included or excluded from module generation. For example:\n\ninclude: Specifies a list of packages to always generate modules for.\nexclude: Specifies a list of packages to never generate modules for.\n\nIn the example above:\n\ninclude: cowsay ensures that a module is always generated for the cowsay package.\nexclude: '%gcc@13.1.0' prevents modules from being generated for packages built with GCC version 13.1.0.\n\n\n\n\nroots: Specifies the root directory for module files.\nprojections: Defines the directory structure for module files.\nautoload: Automatically loads dependencies when a module is loaded.\ninclude and exclude: Control which packages are included or excluded from module generation.\n\n\n\n5. Confirm the Spack Configuration\nAfter creating the configuration files, confirm that Spack is using the correct paths and settings.\nYou can check the current Spack configuration by running:\n\nspack config get config\n\nconfig:\n  install_tree:\n    root: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software\n    projections:\n      all: '{architecture}/{compiler.name}-{compiler.version}/{name}-{version}-{hash}'\n    # install_tree can include an optional padded length (int or boolean)\n    # default is False (do not pad)\n    # if padded_length is True, Spack will pad as close to the system max path\n    # length as possible\n    # if padded_length is an integer, Spack will pad to that many characters,\n    # assuming it is higher than the length of the install_tree root.\n    # padded_length: 128\n\n\n  # Locations where templates should be found\n    padded_length: 128\n  environments_root: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/environments\n  build_stage:\n  - /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/stage\n  - $tempdir/$user/spack-stage\n  - $user_cache_path/stage\n  test_stage: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/test\n  source_cache: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/source_cache\n  misc_cache: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/misc_cache\n  template_dirs:\n  - $spack/share/spack/templates\n\n  # Directory where licenses should be located\n  license_dir: $spack/etc/spack/licenses\n  connect_timeout: 10\n  verify_ssl: true\n  ssl_certs: $SSL_CERT_FILE\n  suppress_gpg_warnings: false\n  checksum: true\n  deprecated: false\n  dirty: false\n  build_language: C\n  locks: true\n  url_fetch_method: urllib\n  ccache: false\n  db_lock_timeout: 60\n  package_lock_timeout: null\n  shared_linking:\n    # Spack automatically embeds runtime search paths in ELF binaries for their\n    # dependencies. Their type can either be \"rpath\" or \"runpath\". For glibc, rpath is\n    # inherited and has precedence over LD_LIBRARY_PATH; runpath is not inherited\n    # and of lower precedence. DO NOT MIX these within the same install tree.\n    type: rpath\n\n    # (Experimental) Embed absolute paths of dependent libraries directly in ELF\n    # binaries to avoid runtime search. This can improve startup time of\n    # executables with many dependencies, in particular on slow filesystems.\n    bind: false\n\n\n  # Set to 'false' to allow installation on filesystems that doesn't allow setgid bit\n  # manipulation by unprivileged user (e.g. AFS)\n  allow_sgid: true\n  install_status: true\n  binary_index_ttl: 600\n  flags:\n    # Whether to keep -Werror flags active in package builds.\n    keep_werror: none\n\n  # A mapping of aliases that can be used to define new commands. For instance,\n  # `sp: spec -I` will define a new command `sp` that will execute `spec` with\n  # the `-I` argument. Aliases cannot override existing commands.\n  aliases:\n    concretise: concretize\n    containerise: containerize\n    rm: remove\n  debug: false\n  build_jobs: 16\n\n\nTo check the module configuration, run:\n\nspack config get modules\n\nmodules:\n  default:\n    # Where to install modules\n    roots:\n      tcl: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/modules\n      lmod: $HOME/.spack/share/spack/lmod\n    # What type of modules to use (\"tcl\" and/or \"lmod\")\n    enable:\n    - tcl\n\n    tcl:\n      projections:\n        all: '{name}/{version}'\n      hide_implicits: true\n      all:\n        autoload: direct\n\n    # Default configurations if lmod is enabled\n      include:\n      - cowsay\n      exclude:\n      - '%gcc@13.1.0'\n      hash_length: 0\n    lmod:\n      all:\n        autoload: direct\n      hierarchy:\n      - mpi\n  prefix_inspections:\n    ./bin:\n    - PATH\n    ./man:\n    - MANPATH\n    ./share/man:\n    - MANPATH\n    ./share/aclocal:\n    - ACLOCAL_PATH\n    ./lib/pkgconfig:\n    - PKG_CONFIG_PATH\n    ./lib64/pkgconfig:\n    - PKG_CONFIG_PATH\n    ./share/pkgconfig:\n    - PKG_CONFIG_PATH\n    ./:\n    - CMAKE_PREFIX_PATH\n\n\nThis command should display the paths and settings you specified in the config.yaml and modules.yaml files.\nAnother useful command is spack config blame, which shows the source of each configuration setting. This can help you identify where specific settings are coming from, especially if you have multiple configuration files or scopes.\n\nspack config blame\n\n---                                                                                                              spack:\n---                                                                                                                compilers:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:2          - compiler:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:3              spec: gcc@=11.3.1\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:4              paths:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:5                cc: /usr/bin/gcc\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:6                cxx: /usr/bin/g++\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:7                f77: /usr/bin/gfortran\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:8                fc: /usr/bin/gfortran\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:9              flags: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:10             operating_system: rhel9\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:11             target: x86_64\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:12             modules: []\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:13             environment: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:14             extra_rpaths: []\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/linux/compilers.yaml:14         concretizer:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:18      reuse: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:23      targets:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:28        granularity: microarchitectures\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:32        host_compatible: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:38      unify: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:40      duplicates:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:45        strategy: minimal\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:50      os_compatible: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:55      splice:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:56        explicit: []\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:57        automatic: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:57    definitions: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:57    view: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:57    develop: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/concretizer.yaml:57    mirrors:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/mirrors.yaml:2           spack-public:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/mirrors.yaml:3             binary: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/mirrors.yaml:4             url: https://mirror.spack.io\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/mirrors.yaml:4         repos:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/repos.yaml:14          - $spack/var/spack/repos/builtin\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/repos.yaml:14          packages:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:17         all:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:18           compiler: [gcc, clang, oneapi, xl, nag, fj, aocc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:19           providers:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:20             awk: [gawk]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:21             armci: [armcimpi]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:22             blas: [openblas, amdblis]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:23             c: [gcc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:24             cxx: [gcc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:25             D: [ldc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:26             daal: [intel-oneapi-daal]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:27             elf: [elfutils]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:28             fftw-api: [fftw, amdfftw]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:29             flame: [libflame, amdlibflame]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:30             fortran: [gcc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:31             fortran-rt: [gcc-runtime, intel-oneapi-runtime]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:32             fuse: [libfuse]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:33             gl: [glx, osmesa]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:34             glu: [mesa-glu, openglu]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:35             golang: [go, gcc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:36             go-or-gccgo-bootstrap: [go-bootstrap, gcc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:37             iconv: [libiconv]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:38             ipp: [intel-oneapi-ipp]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:39             java: [openjdk, jdk, ibm-java]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:40             jpeg: [libjpeg-turbo, libjpeg]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:41             lapack: [openblas, amdlibflame]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:42             libc: [glibc, musl]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:43             libgfortran: [gcc-runtime]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:44             libglx: [mesa+glx]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:45             libifcore: [intel-oneapi-runtime]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:46             libllvm: [llvm]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:47             lua-lang: [lua, lua-luajit-openresty, lua-luajit]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:48             luajit: [lua-luajit-openresty, lua-luajit]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:49             mariadb-client: [mariadb-c-client, mariadb]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:50             mkl: [intel-oneapi-mkl]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:51             mpe: [mpe2]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:52             mpi: [openmpi, mpich]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:53             mysql-client: [mysql, mariadb-c-client]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:54             opencl: [pocl]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:55             onedal: [intel-oneapi-dal]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:56             pbs: [openpbs, torque]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:57             pil: [py-pillow]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:58             pkgconfig: [pkgconf, pkg-config]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:59             qmake: [qt-base, qt]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:60             rpc: [libtirpc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:61             scalapack: [netlib-scalapack, amdscalapack]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:62             sycl: [hipsycl]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:63             szip: [libaec, libszip]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:64             tbb: [intel-tbb]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:65             unwind: [libunwind]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:66             uuid: [util-linux-uuid, libuuid]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:67             wasi-sdk: [wasi-sdk-prebuilt]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:68             xxd: [xxd-standalone, vim]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:69             yacc: [bison, byacc]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:70             ziglang: [zig]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:71             zlib-api: [zlib-ng+compat, zlib]\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:72           permissions:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:73             read: world\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:74             write: user\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:75         cray-mpich:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:76           buildable: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:77         cray-mvapich2:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:78           buildable: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:79         fujitsu-mpi:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:80           buildable: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:81         hpcx-mpi:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:82           buildable: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:83         spectrum-mpi:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:84           buildable: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/packages.yaml:84       modules:\n/home/mmohamed/.spack/modules.yaml:2                                                                                 default:\n/home/mmohamed/.spack/modules.yaml:3                                                                                   roots:\n/home/mmohamed/.spack/modules.yaml:4                                                                                     tcl: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/modules\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:42                       lmod: $HOME/.spack/share/spack/lmod\n/home/mmohamed/.spack/modules.yaml:5                                                                                   enable:\n/home/mmohamed/.spack/modules.yaml:6                                                                                   - tcl\n/home/mmohamed/.spack/modules.yaml:7                                                                                   tcl:\n/home/mmohamed/.spack/modules.yaml:8                                                                                     projections:\n/home/mmohamed/.spack/modules.yaml:9                                                                                       all: '{name}/{version}'\n/home/mmohamed/.spack/modules.yaml:10                                                                                    hide_implicits: True\n/home/mmohamed/.spack/modules.yaml:11                                                                                    all:\n/home/mmohamed/.spack/modules.yaml:12                                                                                      autoload: direct\n/home/mmohamed/.spack/modules.yaml:13                                                                                    include:\n/home/mmohamed/.spack/modules.yaml:14                                                                                    - cowsay\n/home/mmohamed/.spack/modules.yaml:15                                                                                    exclude:\n/home/mmohamed/.spack/modules.yaml:16                                                                                    - '%gcc@13.1.0'\n/home/mmohamed/.spack/modules.yaml:17                                                                                    hash_length: 0\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:51                     lmod:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:52                       all:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:53                         autoload: direct\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:54                       hierarchy:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:55                       - mpi\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:19                   prefix_inspections:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:20                     ./bin:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:21                     - PATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:22                     ./man:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:23                     - MANPATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:24                     ./share/man:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:25                     - MANPATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:26                     ./share/aclocal:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:27                     - ACLOCAL_PATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:28                     ./lib/pkgconfig:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:29                     - PKG_CONFIG_PATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:30                     ./lib64/pkgconfig:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:31                     - PKG_CONFIG_PATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:32                     ./share/pkgconfig:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:33                     - PKG_CONFIG_PATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:34                     ./:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:35                     - CMAKE_PREFIX_PATH\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/modules.yaml:35                 config:\n/home/mmohamed/.spack/config.yaml:2                                                                                  install_tree:\n/home/mmohamed/.spack/config.yaml:3                                                                                    root: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/software\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/config.yaml:6                       projections:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/config.yaml:7                         all: '{architecture}/{compiler.name}-{compiler.version}/{name}-{version}-{hash}'\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/config.yaml:14                      padded_length: 128\n/home/mmohamed/.spack/config.yaml:4                                                                                  environments_root: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/environments\n/home/mmohamed/.spack/config.yaml:5                                                                                  build_stage:\n/home/mmohamed/.spack/config.yaml:6                                                                                  - /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/stage\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:70           - $tempdir/$user/spack-stage\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:71           - $user_cache_path/stage\n/home/mmohamed/.spack/config.yaml:7                                                                                  test_stage: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/test\n/home/mmohamed/.spack/config.yaml:8                                                                                  source_cache: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/source_cache\n/home/mmohamed/.spack/config.yaml:9                                                                                  misc_cache: /storage2/fs1/dspencer/Active/spencerlab/app/modules/spack/.cache/misc_cache\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:33           template_dirs:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:34           - $spack/share/spack/templates\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:37           license_dir: $spack/etc/spack/licenses\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:96           connect_timeout: 10\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:101          verify_ssl: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:107          ssl_certs: $SSL_CERT_FILE\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:115          suppress_gpg_warnings: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:120          checksum: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:125          deprecated: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:130          dirty: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:138          build_language: C\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:147          locks: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:152          url_fetch_method: urllib\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:165          ccache: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:171          db_lock_timeout: 60\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:179          package_lock_timeout: null\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:184          shared_linking:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:189            type: rpath\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:195            bind: False\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:200          allow_sgid: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:206          install_status: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:210          binary_index_ttl: 600\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:212          flags:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:214            keep_werror: none\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:219          aliases:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:220            concretise: concretize\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:221            containerise: containerize\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/config.yaml:222            rm: remove\n_builtin                                                                                                             debug: False\n_builtin                                                                                                             build_jobs: 16\n_builtin                                                                                                           upstreams: {}\n_builtin                                                                                                           bootstrap:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:4         enable: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:7         root: $user_cache_path/bootstrap\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:11        sources:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:12        - name: github-actions-v0.6\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:13          metadata: $spack/share/spack/bootstrap/github-actions-v0.6\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:14        - name: github-actions-v0.5\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:15          metadata: $spack/share/spack/bootstrap/github-actions-v0.5\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:16        - name: spack-install\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:17          metadata: $spack/share/spack/bootstrap/spack-install\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:18        trusted:\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:21          github-actions-v0.6: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:22          github-actions-v0.5: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:23          spack-install: True\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:23      ci: {}\n/scratch2/fs1/sleong/Active/compute2/ris/thpc/linux/software/spack/v0.23/etc/spack/defaults/bootstrap.yaml:23      cdash: {}\n\n\nThis command will display the source of each configuration setting, allowing you to verify that your custom settings are being applied correctly.",
    "crumbs": [
      "Guide",
      "Spack",
      "Setup"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "WashU RIS: HPC Environment Guide",
    "section": "",
    "text": "This guide is designed to help you navigate the WashU RIS Compute2 SLURM cluster for bioinformatics and computational biology workflows in the Spencer Lab. It is not intended to be a comprehensive guide to SLURM or the RIS Compute2 cluster, but rather a starting point for common tasks and workflows used in our lab. For more detailed information, please refer to the official WashU RIS documentation and the SLURM documentation."
  },
  {
    "objectID": "index.html#table-of-contents",
    "href": "index.html#table-of-contents",
    "title": "WashU RIS: HPC Environment Guide",
    "section": "Table of Contents",
    "text": "Table of Contents\n\nQuick Start\nGuide: A collection of guides for common tasks and workflows on the Compute2 SLURM cluster.\n\nModule System: Understand how to use the module system to manage software environments.\nContainers: Learn how to use Singularity/Apptainer and Pyxis to run containerized applications on the Compute2 SLURM cluster.\nSpack: Set up and manage software environments using Spack, a package manager for HPC.\nJupyterLab: Set up and use JupyterLab server on the Compute2 SLURM cluster.\nRStudio: Set up and use RStudio server on the Compute2 SLURM cluster.\nVSCode Remote: Set up and use Visual Studio Code Remote on the Compute2 SLURM cluster."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "docs/guide/index.html",
    "href": "docs/guide/index.html",
    "title": "WashU RIS Guide",
    "section": "",
    "text": "Spack is a package manager designed for high-performance computing (HPC) environments, allowing users to easily install and manage software packages and their dependencies. Below are the guides related to Spack:\n\nSpack Setup\nInstalling Packages",
    "crumbs": [
      "Guide"
    ]
  },
  {
    "objectID": "docs/guide/index.html#spack",
    "href": "docs/guide/index.html#spack",
    "title": "WashU RIS Guide",
    "section": "",
    "text": "Spack is a package manager designed for high-performance computing (HPC) environments, allowing users to easily install and manage software packages and their dependencies. Below are the guides related to Spack:\n\nSpack Setup\nInstalling Packages",
    "crumbs": [
      "Guide"
    ]
  },
  {
    "objectID": "docs/spack/index.html",
    "href": "docs/spack/index.html",
    "title": "Spack",
    "section": "",
    "text": "Spack is a package manager designed for high-performance computing (HPC) environments, allowing users to easily install and manage software packages and their dependencies. Below are the guides related to Spack:",
    "crumbs": [
      "Guide",
      "Spack"
    ]
  },
  {
    "objectID": "docs/spack/index.html#spack",
    "href": "docs/spack/index.html#spack",
    "title": "Spack",
    "section": "",
    "text": "Spack is a package manager designed for high-performance computing (HPC) environments, allowing users to easily install and manage software packages and their dependencies. Below are the guides related to Spack:",
    "crumbs": [
      "Guide",
      "Spack"
    ]
  },
  {
    "objectID": "docs/spack/index.html#why-spack",
    "href": "docs/spack/index.html#why-spack",
    "title": "Spack",
    "section": "Why Spack?",
    "text": "Why Spack?\n\nEfficient: Handles dependencies and multiple versions seamlessly.\nFlexible: Works with various compilers and platforms.\nReproducible: Ensures consistent environments.",
    "crumbs": [
      "Guide",
      "Spack"
    ]
  },
  {
    "objectID": "docs/spack/index.html#quick-links",
    "href": "docs/spack/index.html#quick-links",
    "title": "Spack",
    "section": "Quick Links",
    "text": "Quick Links\n\nSetup Guide: Set up Spack quickly.\nInstalling Packages: How to install and manage packages.",
    "crumbs": [
      "Guide",
      "Spack"
    ]
  }
]